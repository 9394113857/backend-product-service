====================================================================
FULL E-COMMERCE BACKEND INTEGRATION TESTS (SELLER + CUSTOMER)
Auth Service + Product Service
====================================================================

USAGE INSTRUCTIONS (IMPORTANT):
1) Run commands in sequence (TOP ‚Üí BOTTOM)
2) After LOGIN, copy access_token
3) Paste token once in variable section
4) Do NOT modify payloads
5) Backend must be running on ports 5001 & 5002

====================================================================
COMMON VARIABLES (SET MANUALLY)
====================================================================

# üîë Paste SELLER JWT token here after seller login
SET SELLER_TOKEN=PASTE_SELLER_ACCESS_TOKEN_HERE

# üîë Paste CUSTOMER JWT token here after customer login
SET CUSTOMER_TOKEN=PASTE_CUSTOMER_ACCESS_TOKEN_HERE

# üÜî Paste product _id here after product creation
SET PRODUCT_ID=PASTE_PRODUCT_ID_HERE

====================================================================
AUTH SERVICE (http://127.0.0.1:5001)
====================================================================

--------------------------------------------------
1Ô∏è‚É£ AUTH HEALTH CHECK
--------------------------------------------------
curl http://127.0.0.1:5001/api/v1/auth/

--------------------------------------------------
2Ô∏è‚É£ SELLER REGISTRATION
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/angularUser/register ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"seller@test.com\",\"password\":\"seller123\",\"role\":\"seller\"}"

--------------------------------------------------
3Ô∏è‚É£ SELLER LOGIN (COPY access_token)
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/angularUser/login ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"seller@test.com\",\"password\":\"seller123\"}"

# ‚¨Ü COPY access_token
# ‚¨Ü PASTE INTO SELLER_TOKEN ABOVE

# üîë Paste SELLER JWT token here after seller login
SET SELLER_TOKEN=PASTE_SELLER_ACCESS_TOKEN_HERE


--------------------------------------------------
4Ô∏è‚É£ SELLER PROFILE (JWT VERIFY)
--------------------------------------------------
curl -X GET http://127.0.0.1:5001/api/v1/auth/profile ^
-H "Authorization: Bearer %SELLER_TOKEN%"

====================================================================
PRODUCT SERVICE (http://127.0.0.1:5002)
====================================================================

--------------------------------------------------
5Ô∏è‚É£ PRODUCT SERVICE HEALTH CHECK
--------------------------------------------------
curl http://127.0.0.1:5002/api/angularProduct/health

--------------------------------------------------
6Ô∏è‚É£ SELLER ADDS PRODUCT
--------------------------------------------------
curl -X POST http://127.0.0.1:5002/api/angularProduct/add ^
-H "Authorization: Bearer %SELLER_TOKEN%" ^
-H "Content-Type: application/json" ^
-d "{\"name\":\"Laptop\",\"price\":55000,\"description\":\"Gaming laptop\"}"

# ‚¨Ü COPY _id FROM RESPONSE
# ‚¨Ü PASTE INTO PRODUCT_ID ABOVE

--------------------------------------------------
7Ô∏è‚É£ SELLER VIEWS ALL PRODUCTS
--------------------------------------------------
curl -X GET http://127.0.0.1:5002/api/angularProduct/get

--------------------------------------------------
8Ô∏è‚É£ SELLER LOGOUT
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/logout ^
-H "Authorization: Bearer %SELLER_TOKEN%"

====================================================================
CUSTOMER / USER FLOW
====================================================================

--------------------------------------------------
9Ô∏è‚É£ CUSTOMER REGISTRATION
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/angularUser/register ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"user@test.com\",\"password\":\"user123\",\"role\":\"user\"}"

--------------------------------------------------
üîü CUSTOMER LOGIN (COPY access_token)
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/angularUser/login ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"user@test.com\",\"password\":\"user123\"}"

# ‚¨Ü COPY access_token
# ‚¨Ü PASTE INTO CUSTOMER_TOKEN ABOVE

# üîë Paste CUSTOMER JWT token here after customer login
SET CUSTOMER_TOKEN=PASTE_CUSTOMER_ACCESS_TOKEN_HERE

--------------------------------------------------
1Ô∏è‚É£1Ô∏è‚É£ CUSTOMER PROFILE (JWT VERIFY)
--------------------------------------------------
curl -X GET http://127.0.0.1:5001/api/v1/auth/profile ^
-H "Authorization: Bearer %CUSTOMER_TOKEN%"

--------------------------------------------------
1Ô∏è‚É£2Ô∏è‚É£ CUSTOMER VIEWS ALL PRODUCTS
--------------------------------------------------
curl -X GET http://127.0.0.1:5002/api/angularProduct/get

--------------------------------------------------
1Ô∏è‚É£3Ô∏è‚É£ CUSTOMER VIEWS SINGLE PRODUCT
--------------------------------------------------
curl -X GET http://127.0.0.1:5002/api/angularProduct/get/%PRODUCT_ID%

--------------------------------------------------
1Ô∏è‚É£4Ô∏è‚É£ CUSTOMER LOGOUT
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/logout ^
-H "Authorization: Bearer %CUSTOMER_TOKEN%"

====================================================================
END OF BACKEND INTEGRATION TEST FILE
====================================================================
