====================================================================
FULL E-COMMERCE BACKEND INTEGRATION TESTS (LOCAL ONLY)
AUTH SERVICE + PRODUCT SERVICE
====================================================================

USAGE INSTRUCTIONS (IMPORTANT):
1) Run commands TOP ‚Üí BOTTOM
2) After LOGIN, copy access_token
3) Paste token into variable section
4) Do NOT change payload structure
5) Both backends MUST be running locally:
   - Auth Service    ‚Üí http://127.0.0.1:5001
   - Product Service ‚Üí http://127.0.0.1:5002

====================================================================
COMMON VARIABLES (SET MANUALLY)
====================================================================

# üîë Paste SELLER JWT token after seller login
SET SELLER_TOKEN=PASTE_SELLER_ACCESS_TOKEN_HERE

# üîë Paste CUSTOMER JWT token after customer login
SET CUSTOMER_TOKEN=PASTE_CUSTOMER_ACCESS_TOKEN_HERE

# üÜî Paste PRODUCT _id after product creation
SET PRODUCT_ID=PASTE_PRODUCT_ID_HERE

====================================================================
AUTH SERVICE (LOCAL)  http://127.0.0.1:5001
====================================================================

--------------------------------------------------
1Ô∏è‚É£ AUTH SERVICE HEALTH CHECK
--------------------------------------------------
curl http://127.0.0.1:5001/api/v1/auth/

--------------------------------------------------
2Ô∏è‚É£ SELLER REGISTRATION
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/angularUser/register ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"seller@test.com\",\"password\":\"seller123\",\"role\":\"seller\"}"

--------------------------------------------------
3Ô∏è‚É£ SELLER LOGIN (COPY access_token)
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/angularUser/login ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"seller@test.com\",\"password\":\"seller123\"}"

# ‚¨Ü COPY access_token
# ‚¨Ü PASTE INTO SELLER_TOKEN ABOVE

SET SELLER_TOKEN=PASTE_SELLER_ACCESS_TOKEN_HERE

--------------------------------------------------
4Ô∏è‚É£ SELLER PROFILE (JWT VERIFY)
--------------------------------------------------
curl -X GET http://127.0.0.1:5001/api/v1/auth/profile ^
-H "Authorization: Bearer %SELLER_TOKEN%"

====================================================================
PRODUCT SERVICE (LOCAL)  http://127.0.0.1:5002
====================================================================

--------------------------------------------------
5Ô∏è‚É£ PRODUCT SERVICE HEALTH CHECK
--------------------------------------------------
curl http://127.0.0.1:5002/api/angularProduct/health

--------------------------------------------------
6Ô∏è‚É£ SELLER ADDS PRODUCT (JWT REQUIRED)
--------------------------------------------------
curl -X POST http://127.0.0.1:5002/api/angularProduct/add ^
-H "Authorization: Bearer %SELLER_TOKEN%" ^
-H "Content-Type: application/json" ^
-d "{\"name\":\"Laptop\",\"price\":55000,\"description\":\"Gaming laptop\",\"image\":\"laptop.jpg\",\"category\":\"Electronics\",\"color\":\"Black\"}"

# ‚¨Ü COPY _id FROM RESPONSE
# ‚¨Ü PASTE INTO PRODUCT_ID ABOVE

SET PRODUCT_ID=PASTE_PRODUCT_ID_HERE

--------------------------------------------------
7Ô∏è‚É£ SELLER VIEWS ALL PRODUCTS
--------------------------------------------------
curl -X GET http://127.0.0.1:5002/api/angularProduct/get

--------------------------------------------------
8Ô∏è‚É£ SELLER LOGOUT
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/logout ^
-H "Authorization: Bearer %SELLER_TOKEN%"

====================================================================
CUSTOMER / USER FLOW (LOCAL)
====================================================================

--------------------------------------------------
9Ô∏è‚É£ CUSTOMER REGISTRATION
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/angularUser/register ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"user@test.com\",\"password\":\"user123\",\"role\":\"user\"}"

--------------------------------------------------
üîü CUSTOMER LOGIN (COPY access_token)
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/angularUser/login ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"user@test.com\",\"password\":\"user123\"}"

# ‚¨Ü COPY access_token
# ‚¨Ü PASTE INTO CUSTOMER_TOKEN ABOVE

SET CUSTOMER_TOKEN=PASTE_CUSTOMER_ACCESS_TOKEN_HERE

--------------------------------------------------
1Ô∏è‚É£1Ô∏è‚É£ CUSTOMER PROFILE (JWT VERIFY)
--------------------------------------------------
curl -X GET http://127.0.0.1:5001/api/v1/auth/profile ^
-H "Authorization: Bearer %CUSTOMER_TOKEN%"

--------------------------------------------------
1Ô∏è‚É£2Ô∏è‚É£ CUSTOMER VIEWS ALL PRODUCTS
--------------------------------------------------
curl -X GET http://127.0.0.1:5002/api/angularProduct/get

--------------------------------------------------

# üÜî Paste PRODUCT _id after product creation
SET PRODUCT_ID=PASTE_PRODUCT_ID_HERE

1Ô∏è‚É£3Ô∏è‚É£ CUSTOMER VIEWS SINGLE PRODUCT
--------------------------------------------------
curl -X GET http://127.0.0.1:5002/api/angularProduct/get/%PRODUCT_ID%

--------------------------------------------------
1Ô∏è‚É£4Ô∏è‚É£ CUSTOMER LOGOUT
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/logout ^
-H "Authorization: Bearer %CUSTOMER_TOKEN%"

====================================================================
END OF LOCAL BACKEND INTEGRATION TEST FILE
====================================================================
